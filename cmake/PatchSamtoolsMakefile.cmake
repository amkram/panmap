# cmake/PatchSamtoolsMakefile.cmake\n\n# This script patches the samtools Makefile during the ExternalProject build\n# It replaces \'$(shell ./version.sh)\' with \'$(shell /bin/bash ./version.sh)\'\n\nmessage(STATUS \"Patching samtools Makefile...\")\n\nset(MAKEFILE_PATH \"${CMAKE_CURRENT_SOURCE_DIR}/src/3rdparty/samtools/Makefile\")\n\nif(NOT EXISTS ${MAKEFILE_PATH})\n    message(FATAL_ERROR \"Samtools Makefile not found at ${MAKEFILE_PATH}\")\nendif()\n\nfile(READ ${MAKEFILE_PATH} MAKEFILE_CONTENT)\n\n# Note the tricky escaping needed for CMake string command\nstring(REPLACE \"\\\$(shell ./version.sh)\" \"\\\$(shell /bin/bash ./version.sh)\" MODIFIED_CONTENT \"${MAKEFILE_CONTENT}\")\n\nfile(WRITE ${MAKEFILE_PATH} \"${MODIFIED_CONTENT}\")\n\nmessage(STATUS \"Samtools Makefile patched successfully.\")\n 